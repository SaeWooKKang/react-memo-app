(this.webpackJsonpmemobrowserapp=this.webpackJsonpmemobrowserapp||[]).push([[0],{27:function(t,e,a){},33:function(t,e,a){"use strict";a.r(e);var o,n=a(0),c=a(7),r=a.n(c),i=a(2),d=a(13),s=a(6),u=a(14),l=Object(s.a)(o||(o=Object(d.a)(["",""])),u.a),j=(a(27),a(18)),m=a.n(j),b=a(1),D=function(){return Object(b.jsx)(m.a,{type:"bubbles",color:"blue",height:"20%",width:"20%"})},O=a(20),f=a(3),h=a(10),x=Object(h.b)({name:"memo",initialState:{todoDatum:[],doneDatum:[],isLoading:!0},reducers:{isLoading:function(t,e){t.isLoading=e.payload},fetchLocalStorageData:function(t,e){t[e.payload]=JSON.parse(localStorage.getItem(e.payload))||[]},setTodoDatum:function(t,e){t.todoDatum=[].concat(Object(i.a)(e.payload),Object(i.a)(t.todoDatum))},setDoneDatum:function(t,e){t.doneDatum=Object(i.a)(e.payload)},deleteTodoDatum:function(t,e){t.todoDatum=Object(i.a)(e.payload)},deleteDoneDatum:function(t,e){t.doneDatum=Object(i.a)(e.payload)}}}),v=x.actions,p=v.isLoading,N=v.fetchLocalStorageData,g=v.setTodoDatum,y=v.deleteTodoDatum,k=v.setDoneDatum,w=v.deleteDoneDatum,L=x.reducer,S=function(t){return function(e,a){return e[t]<a[t]?1:e[t]>a[t]?-1:0}},C=function(t){var e=new Date(t);return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}},T=(console.log,function(t,e){localStorage.setItem(t,JSON.stringify(e))}),E=function(){var t=Object(n.useState)(""),e=Object(O.a)(t,2),a=e[0],o=e[1],c=Object(f.b)(),r=Object(f.c)((function(t){return t.memo.todoDatum})),d=function(t){s(a),t.preventDefault(),o("")},s=function(t){if(!t)return null;var e={text:t,startDate:Date.now(),doneDate:null},a=[e].concat(Object(i.a)(r)).sort(S("startDate"));c(g([e])),T("todoDatum",a)};return Object(b.jsxs)("form",{className:"inputBar",onSubmit:d,children:[Object(b.jsx)("input",{className:"input",type:"text",placeholder:"Write to do!",value:a,onChange:function(t){o(t.target.value)}}),Object(b.jsx)("ion-icon",{id:"add",name:"add-outline",onClick:d})]})},J=Object(n.memo)(E),I=function(t){var e=t.date,a=C(e),o=a.year,n=a.month;return Object(b.jsx)("div",{className:"todoDateRow",children:"".concat(o,".").concat(n)})},B=Object(n.memo)(I),F=Object(n.memo)((function(t){var e=t.todoData.text;return Object(b.jsx)("div",{className:"todo",children:e})})),M=function(t){var e=t.onDeleteTodo,a=Object(f.c)((function(t){return t.memo.todoDatum})),o=Object(f.c)((function(t){return t.memo.doneDatum})),c=Object(f.b)(),r=Object(n.useCallback)((function(t){e(t,a,"todoDatum")}),[e,a]),d=Object(n.useCallback)((function(t,e){var a=r(t,e,"todoDatum");(a=e.filter((function(e){return e.startDate===Number(t)}))).doneDate=Date.now();var n=[].concat(Object(i.a)(a),Object(i.a)(o)).sort(S("doneDate"));c(k(n)),T("doneDatum",n)}),[r,o,c]),s=function(t){d(t,a)},u=Object(i.a)(a),l=[],j=null;return u?(u.forEach((function(t,e){t.todoDate!==j&&l.push(Object(b.jsx)(B,{date:t.startDate},e)),l.push(Object(b.jsxs)("div",{className:"todoData",id:t.startDate,children:[Object(b.jsx)(F,{todoData:t}),Object(b.jsx)("ion-icon",{id:"done",className:"done",name:"checkmark-circle-outline"}),Object(b.jsx)("ion-icon",{id:"delete",className:"delete",name:"close-circle-outline"})]},t.startDate)),j=t.todoDate})),Object(b.jsx)("div",{onClick:function(t){var e=t.target,a=e.parentNode.id;e.matches("#delete")?r(a):e.matches("#done")&&s(a)},className:"todoList",children:Object(b.jsx)("div",{children:l})})):null},R=Object(n.memo)(M),W=function(t){var e=t.onDeleteTodo,a=t.doneDatum,o=function(t){var o=t.target;if(!o.matches(".todoData>ion-icon"))return null;e(o.parentNode.parentNode.id,a,"doneDatum")},n=[],c="";return a.forEach((function(t,e){var a=C(t.doneDate),r=a.year,i=a.month,d=a.day,s="".concat(r,".").concat(i),u=s.concat(".",d),l=C(t.startDate),j=l.year,m=l.month,D=l.day,O="".concat(j,".").concat(m,".").concat(D);s!==c&&n.push(Object(b.jsx)(B,{date:t.doneDate},e)),n.push(Object(b.jsxs)("div",{onClick:o,id:t.startDate,children:[Object(b.jsxs)("div",{className:"period",children:[O,"~",u]}),Object(b.jsxs)("div",{className:"todoData",children:[Object(b.jsx)(F,{todoData:t}),Object(b.jsx)("ion-icon",{id:"delete",name:"close-circle-outline",className:"delete"})]})]},t.startDate)),c=s})),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"title",children:"Completed"}),Object(b.jsx)("div",{className:"doneList",children:n})]})},Y=Object(n.memo)(W),q=function(){var t=Object(f.b)(),e=Object(f.c)((function(t){return t.memo})),a=Object(f.c)((function(t){return t.memo.doneDatum}));Object(n.useEffect)((function(){o()}),[]);var o=Object(n.useCallback)((function(){t(N("todoDatum")),t(N("doneDatum")),t(p(!1))}),[t]),c=function(e,a,o){var n=Object(i.a)(a),c=n.filter((function(t){return t.startDate!==Number(e)})),r=n.filter((function(t){return t.startDate===Number(e)}));return t("todoDatum"===o?y(c):w(c)),T(o,c),r};return e.isLoading?Object(b.jsx)("div",{className:"loader",children:Object(b.jsx)(D,{})}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(l,{}),Object(b.jsxs)("div",{className:"left",children:[Object(b.jsx)(J,{}),Object(b.jsx)(R,{onDeleteTodo:c})]}),Object(b.jsx)("div",{className:"right",children:Object(b.jsx)(Y,{doneDatum:a,onDeleteTodo:c})})]})},z=Object(h.a)({reducer:{memo:L}});r.a.render(Object(b.jsx)(f.a,{store:z,children:Object(b.jsx)(q,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.516f1635.chunk.js.map